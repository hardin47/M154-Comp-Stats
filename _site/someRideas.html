<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Jo Hardin" />


<title>some R ideas</title>

<script src="site_libs/header-attrs-2.10.3/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="daily.html">Daily</a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
<li>
  <a href="notes.html">Class Notes</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Project
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="project.html">Project Assignment</a>
    </li>
    <li>
      <a href="roles.html">Group Roles</a>
    </li>
    <li>
      <a href="rubric.html">Rubric</a>
    </li>
    <li>
      <a href="https://hardin47.netlify.app/courses/data/">Data Sources</a>
    </li>
  </ul>
</li>
<li>
  <a href="github.html">GitHub</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">some R ideas</h1>
<h4 class="author">Jo Hardin</h4>
<h4 class="date">9/3/2021</h4>

</div>


<div id="data-structure" class="section level2">
<h2>Data Structure</h2>
<p>Always, it is important to understand the format of the data. For example, how many rows (observational units)? How many columns (variables)? Are the variables numbers or categories? There are many ways to see the data, and it is highly recommended that you <strong>regularly</strong> check back to remind yourself of the data structure.</p>
<ul>
<li><code>glimpse()</code> prints the data with variable types (but makes the columns into rows)</li>
<li><code>names()</code> prints the column (variable) names</li>
<li><code>str()</code> is like <code>glimpse()</code> but provides a little more information about the structure of the dataframe</li>
<li><code>head()</code> prints the first few rows of the dataframe (<code>tail()</code> prints the last few rows)</li>
<li>click on the “environment” tab, then click on the name of the dataframe to see the data in the console</li>
</ul>
</div>
<div id="wrangling" class="section level2">
<h2>Wrangling</h2>
<p>Data wrangling is used when working to change data in one format to another. We have regularly used the pipe function (<code>%&gt;%</code>) to layer commands. Data wrangling will be an even bigger part of the data analysis pipeline when we start to work with continuous variables (e.g., height).</p>
<p>The pipe syntax (<code>%&gt;%</code>) takes a data frame (or data table) and sends it to the argument of a function. The mapping goes to the first available argument in the function. For example:</p>
<p><code>x %&gt;% f(y)</code> is the same as <code>f(x, y)</code></p>
<p><code>y %&gt;% f(x, ., z)</code> is the same as <code>f(x,y,z)</code></p>
<ul>
<li><p>A great source of help is the data wrangling cheatsheet here: <a href="https://rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf" class="uri">https://rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf</a></p></li>
<li><p><strong>Data verbs take data tables as input and give data tables as output (that’s how we can use the chaining syntax!).</strong> The functions below are from the R package dplyr, and they will be used to do much of the data wrangling. Below is a list of verbs which will be helpful in wrangling many different types of data.</p>
<ul>
<li><code>sample_n()</code> take a random row(s)</li>
<li><code>head()</code> grab the first few rows</li>
<li><code>tail()</code> grab the last few rows</li>
<li><code>filter()</code> removes unwanted <em>cases</em></li>
<li><code>arrange()</code> reorders the cases</li>
<li><code>select()</code> removes unwanted <em>variables</em> (and <code>rename()</code>)</li>
<li><code>distinct()</code> returns the unique values in a table</li>
<li><code>mutate()</code> transforms the variable (and <code>transmute()</code> like mutate, returns only new variables)</li>
<li><code>group_by()</code> tells R that SUCCESSIVE functions keep in mind that there are groups of items. So <code>group_by()</code> only makes sense with verbs later on (like <code>summarize()</code>).</li>
<li><code>summarize()</code> collapses a data frame to a single row. Some functions that are used within <code>summarize()</code> include:
<ul>
<li><code>min(), max(), mean(), sum(), sd(), median()</code>, and <code>IQR()</code></li>
<li><code>n()</code>: number of observations in the current group</li>
<li><code>n_distinct(x)</code>: count the number of unique values in the variable (column) called <code>x</code></li>
<li><code>first_value(x), last_value(x)</code> and <code>nth_value(x, n)</code>: work similarly to <code>x[1], x[length(x)]</code>, and <code>x[n]</code></li>
</ul></li>
</ul></li>
<li><p>If you happen to be using a function that exists in the dplyr package and in a different package, you’ll want to tell the computer where to find the appropriate function. For example, <code>dplyr::filter()</code>.</p></li>
</ul>
</div>
<div id="plotting" class="section level2">
<h2>Plotting</h2>
<p>The R package ggplot2 will be used for all visualizations. Remember that the layers of a plot are put together with the <code>+</code> symbol (instead of the <code>%&gt;%</code> command).</p>
<ul>
<li><p>A great source of help is the data visualization cheatsheet here: <a href="https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf" class="uri">https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf</a></p></li>
<li><p>Each plot starts with <code>ggplot(data)</code> and then adds layers. The minimal additional layer is a <code>geom_XXX()</code> layer which describes the geometry of the plot.</p></li>
<li><p>Some things to notice:</p>
<ul>
<li>when layering graph pieces, use <code>+</code>. (When layering data wrangling, use <code>%&gt;%</code>.)</li>
<li><code>geom_XXX()</code> will put the <code>XXX</code>-type-of-plot onto the graph.</li>
<li><code>aes()</code> is the function which takes the <strong>data columns</strong> and puts them onto the graph. <code>aes()</code> is used only with data columns and you <em>always</em> need it if you are working with data variables.</li>
<li>A full set of types of plots is given here: <a href="https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf" class="uri">https://rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf</a> (and in many other places online).</li>
</ul></li>
<li><p>If you happen to be using a function that exists in the ggplot2 package and in a different package, you’ll want to tell the computer where to find the appropriate function. For example, <code>ggplot2::xlim()</code>.</p></li>
</ul>
</div>
<div id="statistical-inference" class="section level2">
<h2>Statistical Inference</h2>
<p>The main simulation tools we have used for creating null distributions come from the R package infer.</p>
<ul>
<li>
There are many examples available on the infer vignette page: <a href="https://infer-dev.netlify.com/index.html" class="uri">https://infer-dev.netlify.com/index.html</a>
</li>
<li>
<p>Typically, the following steps are followed:</p>
<ul>
<li>
calculate the test statistic
</li>
<pre><code>teststat &lt;- data %&gt;%
   specify(variable information) %&gt;%
   calculate(the form of the statistic)</code></pre>
<li>
create the null values of the statistic
</li>
<pre><code>nullstats &lt;- data %&gt;%
   specify(variable information) %&gt;%
   hypothesize(give information about the type of null hypothesis) %&gt;%
   generate(repeat the process, provide info about the process) %&gt;%
   calculate(the form of the statistic)</code></pre>
<li>
visualize the null sampling distribution (of the statistic)
</li>
<pre><code>nullstats %&gt;%
   visualize()</code></pre>
<li>
visualize the null sampling distribution with the observed statistic overlaid
</li>
<pre><code>nullstats %&gt;%
   visualize() +
   shade_p_value(specify where the observed statistics is)</code></pre>
<li>
calculate the p-value
</li>
<pre><code>nullstats %&gt;%
   get_p_value(specify the observed statistic and the direction of the test)</code></pre>
</ul>
</ul>
<ul>
<li>If you happen to be using a function that exists in the infer package and also in a different package, you’ll want to tell the computer where to find the appropriate function. For example, <code>infer::specify()</code>.</li>
</ul>
</div>
<div id="probability-models" class="section level2">
<h2>Probability models</h2>
<p>Generally, we’ve used the mosaic package which calculates probabilities <strong>and</strong> adds a graphical representation so that the calculated values can be checked against your intuition. Some of the functions we’ve used include:</p>
<ul>
<li><p><code>xpnorm()</code> normal probability</p></li>
<li><p><code>xqnorm()</code> normal quantile (also called: cutoff, z*)</p></li>
<li><p><code>xpbinom()</code> binomial probability</p></li>
<li><p>If you happen to be using a function that exists in the mosaic package and in a different package, you’ll want to tell the computer to use the appropriate function. For example, <code>mosaic::xpnorm()</code>.</p></li>
</ul>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
